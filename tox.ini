# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = py310
# https://tox.readthedocs.io/en/latest/config.html#conf-requires
# Ensure pip is new so we can install manylinux wheel
requires = pip >= 19.0.0
           virtualenv >= 16.0.0

[testenv]
# Variables used by ci-build
passenv = HOME, USER_AGENT, TEST
allowlist_externals = bash
commands =
    ; python setup.py test -vst test/unit/
    bash ./ci-build



[testenv:py310ci]
basepython = python3.10
platform = linux.*
deps =
    setuptools>=40.0
    https://github.com/glencoesoftware/zeroc-ice-py-linux-x86_64/releases/download/20240202/zeroc_ice-3.6.5-cp310-cp310-manylinux_2_28_x86_64.whl

; [testenv:py312ci]
; basepython = python3.12
; platform = linux.*
; deps =
;     setuptools>=40.0
;     https://github.com/glencoesoftware/zeroc-ice-py-linux-x86_64/releases/download/20240202/zeroc_ice-3.6.5-cp312-cp312-manylinux_2_28_x86_64.whl

; [testenv:py311ci]
; basepython = python3.11
; platform = linux.*
; deps =
;     ; setuptools>=40.0
;     https://github.com/glencoesoftware/zeroc-ice-py-linux-x86_64/releases/download/20240202/zeroc_ice-3.6.5-cp311-cp311-manylinux_2_28_x86_64.whl

; [testenv:py27]
; basepython = /CONDA/envs/tox-py27/bin/python

; [testenv:py38]
; basepython = /CONDA/envs/tox-py38/bin/python
